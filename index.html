<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Payeer Tech Earn Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background:#0f172a; color:#fff; margin:0; padding:0 }
    header { background:#1e293b; padding:20px; text-align:center; font-size:22px; font-weight:bold; letter-spacing:1px }
    .container { padding:20px; max-width:600px; margin:auto }
    .card { background:#1e293b; border-radius:12px; padding:20px; margin-bottom:20px; box-shadow:0 4px 12px rgba(0,0,0,0.5) }
    button { width:100%; padding:14px; border:none; border-radius:10px; background:#22c55e; color:#000; font-size:16px; font-weight:bold; margin-top:10px; cursor:pointer }
    button.secondary { background:#38bdf8 }
    .small { font-size:13px; color:#cbd5f5 }
    input { width:100%; padding:12px; border-radius:8px; border:none; margin-top:5px; background:#0f172a; color:#fff }
    a { color:#38bdf8 }
    h3 { margin-top:0 }
  </style>
</head>
<body>
<header>ðŸš€ Payeer Tech Earn Dashboard</header>
<div class="container">  <div class="card">
    <h3>ðŸ‘¤ Welcome</h3>
    <p id="user">Loading user info...</p>
  </div>  <div class="card">
    <h3>ðŸ’° Earnings</h3>
    <p>Total Points: <b id="balance">0</b></p>
    <p class="small">Points can be converted to rewards after admin approval</p>
  </div>  <div class="card">
    <h3>ðŸ“Œ Tasks</h3>
    <p class="small">Complete tasks to earn points</p>
    <button onclick="completeTask('join_channel')">Join Telegram Channel (+50 pts)</button>
    <button onclick="completeTask('visit_site')">Visit Partner Website (+20 pts)</button>
    <button onclick="completeTask('subscribe_youtube')">Subscribe on YouTube (+30 pts)</button>
  </div>  <div class="card">
    <h3>ðŸ”— Referral</h3>
    <p>Share your referral link to earn bonus points:</p>
    <input id="refLink" readonly />
    <button class="secondary" onclick="copyRef()">Copy Link</button>
  </div>  <div class="card">
    <h3>ðŸ“ˆ Progress</h3>
    <p class="small">Track your completed tasks and referrals here.</p>
    <ul id="taskList"></ul>
  </div></div><script>
  const tg = window.Telegram.WebApp;
  tg.expand();

  const user = tg.initDataUnsafe?.user;
  let balance = 0;
  let completedTasks = [];

  // Initialize user info and referral link
  if (user) {
    document.getElementById('user').innerText = `${user.first_name} (@${user.username || 'no username'})`;
    const ref = `https://t.me/PayeerTech_Bot?start=${user.id}`; // <-- Change to your bot username
    document.getElementById('refLink').value = ref;
  }

  function completeTask(task) {
    if (completedTasks.includes(task)) {
      tg.showAlert('You already completed this task!');
      return;
    }

    let points = 0;
    switch(task) {
      case 'join_channel': points = 50; break;
      case 'visit_site': points = 20; break;
      case 'subscribe_youtube': points = 30; break;
    }

    balance += points;
    completedTasks.push(task);
    document.getElementById('balance').innerText = balance;

    // Add to progress list
    const li = document.createElement('li');
    li.innerText = `${task.replace('_',' ')}: +${points} pts`;
    document.getElementById('taskList').appendChild(li);

    tg.showAlert(`Task completed! You earned ${points} points.`);
  }

  function copyRef() {
    navigator.clipboard.writeText(document.getElementById('refLink').value);
    tg.showAlert('Referral link copied!');
  }
</script></body>
</html>
